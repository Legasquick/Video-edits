<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–°–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∞–≤–æ–∫ –∫ –≤–∏–¥–µ–æ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            border-radius: 16px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 28px;
            margin-bottom: 10px;
        }

        .header p {
            opacity: 0.9;
            font-size: 14px;
        }

        .content {
            padding: 30px;
        }

        .edit-form {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 12px;
            margin-bottom: 25px;
            border: 2px solid #e9ecef;
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 15px;
        }

        .form-group {
            margin-bottom: 15px;
        }

        label {
            display: block;
            margin-bottom: 6px;
            font-weight: 600;
            color: #495057;
            font-size: 14px;
        }

        input, textarea, select {
            width: 100%;
            padding: 12px;
            border: 2px solid #dee2e6;
            border-radius: 8px;
            font-size: 14px;
            transition: all 0.3s;
            font-family: inherit;
        }

        input:focus, textarea:focus, select:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        textarea {
            resize: vertical;
            min-height: 80px;
        }

        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(102, 126, 234, 0.3);
        }

        .btn-secondary {
            background: #6c757d;
            color: white;
            margin-left: 10px;
        }

        .btn-secondary:hover {
            background: #5a6268;
        }

        .btn-success {
            background: #28a745;
            color: white;
        }

        .btn-success:hover {
            background: #218838;
        }

        .btn-danger {
            background: #dc3545;
            color: white;
            padding: 8px 16px;
            font-size: 12px;
        }

        .btn-danger:hover {
            background: #c82333;
        }

        .edits-list {
            margin-top: 30px;
        }

        .edit-item {
            background: white;
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 15px;
            border: 2px solid #e9ecef;
            transition: all 0.3s;
            position: relative;
        }

        .edit-item:hover {
            border-color: #667eea;
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.1);
        }

        .edit-item-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
        }

        .edit-number {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 6px 12px;
            border-radius: 20px;
            font-weight: 600;
            font-size: 14px;
        }

        .edit-content {
            font-size: 14px;
            color: #495057;
            line-height: 1.6;
        }

        .edit-content strong {
            color: #212529;
        }

        .button-group {
            margin-top: 20px;
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .empty-state {
            text-align: center;
            padding: 40px;
            color: #6c757d;
        }

        .empty-state-icon {
            font-size: 48px;
            margin-bottom: 15px;
        }

        .type-selector {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 10px;
            margin-bottom: 20px;
        }

        .type-option {
            padding: 15px;
            border: 2px solid #dee2e6;
            border-radius: 8px;
            cursor: pointer;
            text-align: center;
            transition: all 0.3s;
            background: white;
        }

        .type-option:hover {
            border-color: #667eea;
            background: #f8f9ff;
        }

        .type-option.active {
            border-color: #667eea;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .type-option-title {
            font-weight: 600;
            margin-bottom: 5px;
        }

        .type-option-desc {
            font-size: 12px;
            opacity: 0.8;
        }

        @media (max-width: 768px) {
            .form-row {
                grid-template-columns: 1fr;
            }

            .button-group {
                flex-direction: column;
            }

            .btn-secondary {
                margin-left: 0;
            }
        }

        .instructions-toggle {
            background: #e9ecef;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .instructions-toggle:hover {
            background: #dee2e6;
        }

        .instructions-content {
            display: none;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 8px;
            margin-bottom: 20px;
            font-size: 14px;
            line-height: 1.8;
        }

        .instructions-content.show {
            display: block;
        }

        .instructions-content h3 {
            color: #667eea;
            margin-top: 15px;
            margin-bottom: 10px;
        }

        .instructions-content ul {
            margin-left: 20px;
        }

        .instructions-content li {
            margin-bottom: 8px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üìπ –°–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∞–≤–æ–∫ –∫ –≤–∏–¥–µ–æ</h1>
            <p>–°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–∞–≤–∫–∏ –≤ —É–¥–æ–±–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –º–æ–Ω—Ç–∞–∂–∞</p>
        </div>

        <div class="content">
            <div class="instructions-toggle" onclick="toggleInstructions()">
                <strong>üìñ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Ä–∞–±–æ—Ç–µ —Å –ø—Ä–∞–≤–∫–∞–º–∏</strong>
                <span id="toggle-icon">‚ñº</span>
            </div>

            <div class="instructions-content" id="instructions">
                <p><strong>–î–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è –ø—Ä–æ—Ü–µ—Å—Å–∞ –º–æ–Ω—Ç–∞–∂–∞ –ø—Ä–æ—à—É –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—Ç—å –ø—Ä–∞–≤–∫–∏ –≤ –µ–¥–∏–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ.</strong></p>
                
                <h3>–û—Å–Ω–æ–≤–Ω–æ–π —Ñ–æ—Ä–º–∞—Ç</h3>
                <p>–î–ª—è –∫–∞–∂–¥–æ–π –ø—Ä–∞–≤–∫–∏ —É–∫–∞–∑—ã–≤–∞–π—Ç–µ:</p>
                <ul>
                    <li>–¢–∞–π–º–∫–æ–¥ –Ω–∞—á–∞–ª–∞ –∏ –∫–æ–Ω—Ü–∞ —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞ (–ú–ú:–°–°)</li>
                    <li>–ü–µ—Ä–≤—ã–µ —Ç—Ä–∏ —Å–ª–æ–≤–∞ —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞</li>
                    <li>–ü–æ—Å–ª–µ–¥–Ω–∏–µ —Ç—Ä–∏ —Å–ª–æ–≤–∞ —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞</li>
                    <li>–î–µ–π—Å—Ç–≤–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–æ–≤–µ—Ä—à–∏—Ç—å</li>
                </ul>

                <h3>–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è</h3>
                <p><strong>–í—ã—Ä–µ–∑–∞—Ç—å —Ñ—Ä–∞–≥–º–µ–Ω—Ç:</strong> 01:23 - 01:28 | –°–µ–≥–æ–¥–Ω—è –º—ã –ø–æ–≥–æ–≤–æ—Ä–∏–º | –æ—á–µ–Ω—å –≤–∞–∂–Ω—ã–π –º–æ–º–µ–Ω—Ç | –í—ã—Ä–µ–∑–∞—Ç—å</p>
                <p><strong>–î–æ–±–∞–≤–∏—Ç—å –≥—Ä–∞—Ñ–∏–∫—É:</strong> 02:40 - 02:47 | –ö–∞–∫ –ø–æ–∫–∞–∑–∞–Ω–æ –Ω–∞ | –¥–∞–Ω–Ω–æ–π —Å—Ö–µ–º–µ | –ü–æ–≤–µ—Ä—Ö –≤–∏–¥–µ–æ –≤—Å—Ç–∞–≤–∏—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ "—Å—Ö–µ–º–∞_1.jpg"</p>
                <p><strong>–ò–∑–º–µ–Ω–∏—Ç—å –∑–≤—É–∫:</strong> 06:50 - 06:55 | –ò –≤–æ—Ç –∑–¥–µ—Å—å | –æ—á–µ–Ω—å –≤–∞–∂–Ω–∞—è –º—ã—Å–ª—å | –°–¥–µ–ª–∞—Ç—å –∑–≤—É–∫ –≥—Ä–æ–º—á–µ</p>
            </div>

            <div class="edit-form">
                <div class="type-selector">
                    <div class="type-option active" onclick="selectType('cut')" data-type="cut">
                        <div class="type-option-title">‚úÇÔ∏è –í—ã—Ä–µ–∑–∞—Ç—å</div>
                        <div class="type-option-desc">–£–¥–∞–ª–∏—Ç—å —Ñ—Ä–∞–≥–º–µ–Ω—Ç</div>
                    </div>
                    <div class="type-option" onclick="selectType('graphics')" data-type="graphics">
                        <div class="type-option-title">üé® –ì—Ä–∞—Ñ–∏–∫–∞</div>
                        <div class="type-option-desc">–¢–∏—Ç—Ä—ã, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è</div>
                    </div>
                    <div class="type-option" onclick="selectType('move')" data-type="move">
                        <div class="type-option-title">üîÑ –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å</div>
                        <div class="type-option-desc">–ò–∑–º–µ–Ω–∏—Ç—å –ø–æ—Ä—è–¥–æ–∫</div>
                    </div>
                    <div class="type-option" onclick="selectType('other')" data-type="other">
                        <div class="type-option-title">‚öôÔ∏è –î—Ä—É–≥–æ–µ</div>
                        <div class="type-option-desc">–ó–≤—É–∫, —Ü–≤–µ—Ç –∏ —Ç.–¥.</div>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="timeStart">–¢–∞–π–º–∫–æ–¥ –Ω–∞—á–∞–ª–∞ (–ú:–°–° –∏–ª–∏ –ú–ú:–°–°)</label>
                        <input type="text" id="timeStart" placeholder="1:23 –∏–ª–∏ 01:23" onblur="formatTimecode(this)">
                    </div>
                    <div class="form-group">
                        <label for="timeEnd">–¢–∞–π–º–∫–æ–¥ –∫–æ–Ω—Ü–∞ (–ú:–°–° –∏–ª–∏ –ú–ú:–°–°)</label>
                        <input type="text" id="timeEnd" placeholder="1:28 –∏–ª–∏ 01:28" onblur="formatTimecode(this)">
                    </div>
                </div>

                <div class="form-group">
                    <label for="firstWords">–ü–µ—Ä–≤—ã–µ —Ç—Ä–∏ —Å–ª–æ–≤–∞ —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞</label>
                    <input type="text" id="firstWords" placeholder="–°–µ–≥–æ–¥–Ω—è –º—ã –ø–æ–≥–æ–≤–æ—Ä–∏–º">
                </div>

                <div class="form-group">
                    <label for="lastWords">–ü–æ—Å–ª–µ–¥–Ω–∏–µ —Ç—Ä–∏ —Å–ª–æ–≤–∞ —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞</label>
                    <input type="text" id="lastWords" placeholder="–æ—á–µ–Ω—å –≤–∞–∂–Ω—ã–π –º–æ–º–µ–Ω—Ç">
                </div>

                <div class="form-group">
                    <label for="action" id="actionLabel">–ß—Ç–æ –¥–µ–ª–∞–µ–º (–æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–∞–≤–∫–∏)</label>
                    <textarea id="action" placeholder="–í—ã—Ä–µ–∑–∞—Ç—å"></textarea>
                </div>

                <button class="btn btn-primary" onclick="addEdit()">‚ûï –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–∞–≤–∫—É</button>
            </div>

            <div class="edits-list" id="editsList">
                <div class="empty-state">
                    <div class="empty-state-icon">üìù</div>
                    <p>–ü—Ä–∞–≤–æ–∫ –ø–æ–∫–∞ –Ω–µ—Ç. –î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–≤—É—é –ø—Ä–∞–≤–∫—É –≤—ã—à–µ.</p>
                </div>
            </div>

            <div class="button-group" id="actionButtons" style="display: none;">
                <button class="btn btn-success" onclick="copyToClipboard()">üìã –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ –ø—Ä–∞–≤–∫–∏</button>
                <button class="btn btn-secondary" onclick="clearAll()">üóëÔ∏è –û—á–∏—Å—Ç–∏—Ç—å –≤—Å—ë</button>
            </div>
        </div>
    </div>

    <script>
        let edits = [];
        let currentType = 'cut';

        function convertTimecode(time) {
            // –£–±–∏—Ä–∞–µ–º –ª–∏—à–Ω–∏–µ –ø—Ä–æ–±–µ–ª—ã
            time = time.trim();
            
            // –£–±–∏—Ä–∞–µ–º –≤—Å–µ –∫—Ä–æ–º–µ —Ü–∏—Ñ—Ä –∏ –¥–≤–æ–µ—Ç–æ—á–∏—è
            time = time.replace(/[^\d:]/g, '');
            
            if (!time.includes(':')) {
                return null;
            }
            
            let parts = time.split(':');
            if (parts.length !== 2) {
                return null;
            }
            
            let minutes = parts[0];
            let seconds = parts[1];
            
            // –î–æ–±–∞–≤–ª—è–µ–º –≤–µ–¥—É—â–∏–π –Ω–æ–ª—å –∫ –º–∏–Ω—É—Ç–∞–º –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
            if (minutes.length === 1) {
                minutes = '0' + minutes;
            }
            
            // –î–æ–±–∞–≤–ª—è–µ–º –≤–µ–¥—É—â–∏–π –Ω–æ–ª—å –∫ —Å–µ–∫—É–Ω–¥–∞–º –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
            if (seconds.length === 1) {
                seconds = '0' + seconds;
            }
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å
            if (minutes.length !== 2 || seconds.length !== 2) {
                return null;
            }
            
            if (isNaN(minutes) || isNaN(seconds)) {
                return null;
            }
            
            return minutes + ':' + seconds;
        }

        function toggleInstructions() {
            const instructions = document.getElementById('instructions');
            const icon = document.getElementById('toggle-icon');
            instructions.classList.toggle('show');
            icon.textContent = instructions.classList.contains('show') ? '‚ñ≤' : '‚ñº';
        }

        function selectType(type) {
            currentType = type;
            document.querySelectorAll('.type-option').forEach(option => {
                option.classList.remove('active');
            });
            document.querySelector(`[data-type="${type}"]`).classList.add('active');

            const actionField = document.getElementById('action');
            const actionLabel = document.getElementById('actionLabel');
            const lastWordsGroup = document.querySelector('#lastWords').closest('.form-group');
            const lastWordsLabel = lastWordsGroup.querySelector('label');
            
            const suggestions = {
                'cut': '–í—ã—Ä–µ–∑–∞—Ç—å',
                'graphics': '–î–æ–±–∞–≤–∏—Ç—å —Ç–∏—Ç—Ä: "–¢–µ–∫—Å—Ç —Ç–∏—Ç—Ä–∞"',
                'move': '–í—ã—Ä–µ–∑–∞—Ç—å –∏ –ø–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å –Ω–∞ –º–µ—Å—Ç–æ –§—Ä–∞–≥–º–µ–Ω—Ç–∞ X',
                'other': '–°–¥–µ–ª–∞—Ç—å –∑–≤—É–∫ –≥—Ä–æ–º—á–µ'
            };
            actionField.placeholder = suggestions[type];

            // –î–ª—è —Ç–∏–ø–∞ "–í—ã—Ä–µ–∑–∞—Ç—å" –ø–æ—Å–ª–µ–¥–Ω–∏–µ —Å–ª–æ–≤–∞ –∏ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã
            if (type === 'cut') {
                lastWordsLabel.innerHTML = '–ü–æ—Å–ª–µ–¥–Ω–∏–µ —Ç—Ä–∏ —Å–ª–æ–≤–∞ —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞ <span style="color: #6c757d; font-weight: normal;">(–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)</span>';
                actionLabel.innerHTML = '–ß—Ç–æ –¥–µ–ª–∞–µ–º (–æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–∞–≤–∫–∏) <span style="color: #6c757d; font-weight: normal;">(–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é "–í—ã—Ä–µ–∑–∞—Ç—å")</span>';
            } else {
                lastWordsLabel.textContent = '–ü–æ—Å–ª–µ–¥–Ω–∏–µ —Ç—Ä–∏ —Å–ª–æ–≤–∞ —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞';
                actionLabel.textContent = '–ß—Ç–æ –¥–µ–ª–∞–µ–º (–æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–∞–≤–∫–∏)';
            }
        }

        function formatTimecode(input) {
            let value = input.value.trim();
            
            // –£–±–∏—Ä–∞–µ–º –≤—Å–µ –∫—Ä–æ–º–µ —Ü–∏—Ñ—Ä –∏ –¥–≤–æ–µ—Ç–æ—á–∏—è
            value = value.replace(/[^\d:]/g, '');
            
            // –ï—Å–ª–∏ –µ—Å—Ç—å –¥–≤–æ–µ—Ç–æ—á–∏–µ
            if (value.includes(':')) {
                let parts = value.split(':');
                let minutes = parts[0];
                let seconds = parts[1] || '';
                
                // –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ–º –º–∏–Ω—É—Ç—ã (–¥–æ–±–∞–≤–ª—è–µ–º –≤–µ–¥—É—â–∏–π –Ω–æ–ª—å –µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
                if (minutes.length === 1) {
                    minutes = '0' + minutes;
                } else if (minutes.length > 2) {
                    minutes = minutes.slice(0, 2);
                }
                
                // –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ–º —Å–µ–∫—É–Ω–¥—ã (–¥–æ–±–∞–≤–ª—è–µ–º –≤–µ–¥—É—â–∏–π –Ω–æ–ª—å –µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
                if (seconds.length === 1 && seconds !== '') {
                    seconds = '0' + seconds;
                } else if (seconds.length > 2) {
                    seconds = seconds.slice(0, 2);
                }
                
                input.value = minutes + ':' + seconds;
            } else if (value.length >= 1) {
                // –ï—Å–ª–∏ –Ω–µ—Ç –¥–≤–æ–µ—Ç–æ—á–∏—è, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è–µ–º –µ–≥–æ
                if (value.length === 1) {
                    input.value = '0' + value + ':';
                } else if (value.length === 2) {
                    input.value = value + ':';
                } else if (value.length === 3) {
                    input.value = '0' + value[0] + ':' + value.slice(1);
                } else if (value.length >= 4) {
                    input.value = value.slice(0, 2) + ':' + value.slice(2, 4);
                }
            }
        }

        function addEdit() {
            let timeStart = document.getElementById('timeStart').value.trim();
            let timeEnd = document.getElementById('timeEnd').value.trim();
            const firstWords = document.getElementById('firstWords').value.trim();
            const lastWords = document.getElementById('lastWords').value.trim();
            let action = document.getElementById('action').value.trim();

            // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∞ "–í—ã—Ä–µ–∑–∞—Ç—å" –¥–ª—è —Ç–∏–ø–∞ cut
            if (currentType === 'cut' && !action) {
                action = '–í—ã—Ä–µ–∑–∞—Ç—å';
            }

            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π (–¥–µ–π—Å—Ç–≤–∏–µ —É–∂–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –∑–∞–ø–æ–ª–Ω–µ–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
            if (!timeStart || !timeEnd || !firstWords) {
                alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è');
                return;
            }

            // –î–ª—è –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ –∫—Ä–æ–º–µ cut –ø—Ä–æ–≤–µ—Ä—è–µ–º action –∏ lastWords
            if (currentType !== 'cut') {
                if (!action) {
                    alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –æ–ø–∏—Å–∞–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏—è');
                    return;
                }
                if (!lastWords) {
                    alert('–î–ª—è —ç—Ç–æ–≥–æ —Ç–∏–ø–∞ –ø—Ä–∞–≤–∫–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —É–∫–∞–∑–∞—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–µ —Ç—Ä–∏ —Å–ª–æ–≤–∞');
                    return;
                }
            }

            // –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ–º —Ç–∞–π–º–∫–æ–¥—ã –≤ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç
            timeStart = convertTimecode(timeStart);
            timeEnd = convertTimecode(timeEnd);

            if (!timeStart || !timeEnd) {
                alert('–¢–∞–π–º–∫–æ–¥ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ —Ñ–æ—Ä–º–∞—Ç–µ –ú–ú:–°–° (–Ω–∞–ø—Ä–∏–º–µ—Ä, 1:23 –∏–ª–∏ 01:23)');
                return;
            }

            const edit = {
                id: Date.now(),
                timeStart,
                timeEnd,
                firstWords,
                lastWords,
                action
            };

            edits.push(edit);
            renderEdits();
            clearForm();
        }

        function renderEdits() {
            const listContainer = document.getElementById('editsList');
            const actionButtons = document.getElementById('actionButtons');

            if (edits.length === 0) {
                listContainer.innerHTML = `
                    <div class="empty-state">
                        <div class="empty-state-icon">üìù</div>
                        <p>–ü—Ä–∞–≤–æ–∫ –ø–æ–∫–∞ –Ω–µ—Ç. –î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–≤—É—é –ø—Ä–∞–≤–∫—É –≤—ã—à–µ.</p>
                    </div>
                `;
                actionButtons.style.display = 'none';
                return;
            }

            actionButtons.style.display = 'flex';

            listContainer.innerHTML = edits.map((edit, index) => `
                <div class="edit-item">
                    <div class="edit-item-header">
                        <span class="edit-number">–ü—Ä–∞–≤–∫–∞ ${index + 1}</span>
                        <button class="btn btn-danger" onclick="deleteEdit(${edit.id})">–£–¥–∞–ª–∏—Ç—å</button>
                    </div>
                    <div class="edit-content">
                        <strong>${edit.timeStart} - ${edit.timeEnd}</strong> | ${edit.firstWords}${edit.lastWords ? ' | ' + edit.lastWords : ''} | ${edit.action}
                    </div>
                </div>
            `).join('');
        }

        function deleteEdit(id) {
            edits = edits.filter(edit => edit.id !== id);
            renderEdits();
        }

        function clearForm() {
            document.getElementById('timeStart').value = '';
            document.getElementById('timeEnd').value = '';
            document.getElementById('firstWords').value = '';
            document.getElementById('lastWords').value = '';
            document.getElementById('action').value = '';
            document.getElementById('timeStart').focus();
        }

        function copyToClipboard() {
            const text = edits.map((edit, index) => 
                `${index + 1}. ${edit.timeStart} - ${edit.timeEnd} | ${edit.firstWords}${edit.lastWords ? ' | ' + edit.lastWords : ''} | ${edit.action}`
            ).join('\n\n');

            navigator.clipboard.writeText(text).then(() => {
                alert('‚úÖ –í—Å–µ –ø—Ä–∞–≤–∫–∏ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω—ã –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞!');
            }).catch(() => {
                const textarea = document.createElement('textarea');
                textarea.value = text;
                document.body.appendChild(textarea);
                textarea.select();
                document.execCommand('copy');
                document.body.removeChild(textarea);
                alert('‚úÖ –í—Å–µ –ø—Ä–∞–≤–∫–∏ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω—ã –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞!');
            });
        }

        function clearAll() {
            if (confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å –≤—Å–µ –ø—Ä–∞–≤–∫–∏?')) {
                edits = [];
                renderEdits();
            }
        }
    </script>
</body>
</html>